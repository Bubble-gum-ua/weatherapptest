(this.webpackJsonpweatherapptest=this.webpackJsonpweatherapptest||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},132:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(10),a=n.n(i),s=(n(107),n(108),n(170)),o=n(167),u=n(13),d=n(32),l=n.n(d),j=n(56),b=n(69),p=n(14),h=n(82).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),m="85132d4ddae160c1f8dcd7eea2cb7f41",O=function(e){return h.get("weather?appid=".concat(m,"&units=metric&q=").concat(e)).then((function(e){return e.data}))},x=function(e){return h.get("group?id=".concat(e,"&appid=").concat(m,"&units=metric")).then((function(e){return e.data}))},f=function(e,t){return h.get("onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=daily,alerts,minutely&appid=").concat(m,"&units=metric")).then((function(e){return e.data}))},g=function(e){return"https://openweathermap.org/img/wn/".concat(e,"@2x.png")},v=function(e){return"https://openweathermap.org/images/flags/".concat(e,".png")},y="TOGGLE_IS_LOADING",w="SET_ERROR",C={isLoading:!1,error:null},k=function(e){return{type:y,isLoading:e}},A=function(e){return{type:w,error:e}},S="ADD_CARD",N="DELETE_CARD",D="UPDATE_BODY",E="SET_DETAILS_PAGE",I={cities:[],detailsPage:{}},T=function(e){return{type:S,card:e}},L=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(c,r){var i,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(k(!0)),n.next=4,O(e);case 4:i=n.sent,"ADD"===t?(a=r().cities.cities.find((function(e){return e.id===i.id})),c(a?A("City was picked"):T(i))):"UPDATE"===t&&c({type:D,card:i}),c(k(!1)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),c(A("Not found. Try again.")),c(k(!1));case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},P=function(e){var t=new Date(1e3*e),n=t.getHours(),c=t.getMinutes();return n<10?c<10?"0".concat(n,":0").concat(c):"0".concat(n,":").concat(c):"".concat(n,":00")},_=n(83),R=n.p+"static/media/preloader.7eb91340.svg",W=n(2),M=function(){return Object(W.jsx)("div",{children:Object(W.jsx)("img",{src:R,alt:"preloader"})})},U=r.a.memo((function(e){var t,n=e.detailCard,c=null===(t=n.hourly)||void 0===t?void 0:t.map((function(e){var t;return[P(e.dt),(t=e.temp,Math.round(t))]})),r=[["Hour","Temperature"]];if(c)for(var i=0;i<24;i++)r.push(c[i]);return Object(W.jsx)(o.a,{item:!0,style:{textAlign:"center"},children:Object(W.jsx)(_.a,{width:"600px",height:"400px",chartType:"ColumnChart",loader:Object(W.jsx)("div",{children:Object(W.jsx)(M,{})}),data:r,options:{hAxis:{title:"Hour"},vAxis:{title:"Temperature"},legend:"none",title:"Hourly temperature changing",backgroundColor:"transparent",colors:["white","white"],series:{0:{color:"#d7d120"}}}})})})),F=(n(132),Object(s.a)((function(e){return{root:{flexGrow:1,textAlign:"-webkit-right",marginLeft:"15px"},content:{background:"rgb(48,107,101,0.8)",color:"white",padding:"15px",boxShadow:"2px 2px 5px 2px rgb(169, 169, 101)",maxWidth:"400px",width:"100%",textAlign:"left"},button:{background:"rgb(48,107,101,0.8)",color:"white",fontSize:"18px"},graph:{background:"rgb(48,107,101,0.8)",maxWidth:"600px",marginTop:"10px"}}}))),G=r.a.memo((function(e){var t=Object(u.b)(),n=F(),r=Object(u.c)((function(e){return e.cities.cities})),i=Object(u.c)((function(e){return e.cities.detailsPage})),a=r.find((function(e){return e.name===r[0].name})),s=a.weather[0].icon,d=P(a.sys.sunrise),b=P(a.sys.sunset);Object(c.useEffect)((function(){var e,n;a&&t((e=a.coord.lat,n=a.coord.lon,function(){var t=Object(j.a)(l.a.mark((function t(c){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(k(!0)),t.next=4,f(e,n);case 4:r=t.sent,c({type:E,detailsPage:r}),c(k(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),c(A("Error")),c(k(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[a,t]);var p=function(e){return Math.round(e)};return Object(W.jsxs)("div",{className:"mainContentWrapp",children:[Object(W.jsxs)("h2",{children:[" Temperature: ",p(a.main.temp)," \xb0C"]}),Object(W.jsxs)(o.a,{container:!0,spacing:4,className:n.root,children:[Object(W.jsx)(o.a,{item:!0,xs:5,children:Object(W.jsxs)("div",{className:n.content,children:[Object(W.jsxs)("div",{children:["Feels like: ",p(a.main.feels_like)," C"]}),Object(W.jsxs)("div",{children:["Humidity: ",a.main.humidity," %"]}),Object(W.jsxs)("div",{children:["Pressure: ",a.main.pressure]}),Object(W.jsxs)("div",{children:["Max temperature: ",p(a.main.temp_max)," \xb0C"]}),Object(W.jsxs)("div",{children:["Min temperature: ",p(a.main.temp_min)," \xb0C"]}),Object(W.jsxs)("div",{children:["Wind: ",a.wind.speed," m/s ",a.wind.deg," degree"]}),Object(W.jsxs)("div",{children:["Sunrise: ",d]}),Object(W.jsxs)("div",{children:["Sunset: ",b]}),Object(W.jsx)("img",{alt:"weatherIco",src:g(s)})]})}),Object(W.jsx)(o.a,{item:!0,xs:3,className:n.graph,children:Object(W.jsx)(U,{detailCard:i})})]})]})})),B=n(7),H=n(171),J=n(138),q=n(172),z=n(89),V=n.n(z),Y=n(90),K=n.n(Y),Q=Object(s.a)((function(e){return{root:{flexGrow:1,cursor:"pointer"},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary,cursor:"pointer",maxWidth:"300px",backgroundColor:"rgb(166, 217, 155)"},button:{backgroundColor:"blue",cursor:"pointer"}}})),X=r.a.memo((function(e){var t=e.name,n=e.main,c=e.wind,r=e.icon,i=e.cityId,a=e.weather,s=e.sys.country.split("").map((function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})).join(""),d=Q(),l=Object(B.f)(),j=Object(u.b)(),b=function(e){return Math.round(e)},p=Object(u.c)((function(e){return e.main.isLoading}));return Object(W.jsx)("div",{className:d.root,children:Object(W.jsxs)(H.a,{children:[p&&Object(W.jsx)("div",{children:Object(W.jsx)(M,{})}),Object(W.jsxs)(J.a,{className:d.paper,children:[Object(W.jsxs)("h3",{children:[" ",t," ",Object(W.jsx)("img",{alt:"countryIco",src:v(s)})]}),Object(W.jsxs)(o.a,{container:!0,spacing:2,onClick:function(){l.push("/city/".concat(t))},children:[Object(W.jsxs)(o.a,{item:!0,xs:6,children:[Object(W.jsxs)("div",{children:["Temperature: ",b(n.temp)," \xb0C"]}),Object(W.jsxs)("div",{children:["Sky: ",a[0].main," "]}),Object(W.jsxs)("div",{children:["Wind: ",b(c.speed)," m/s"]})]}),Object(W.jsx)(o.a,{item:!0,xs:6,children:Object(W.jsx)("img",{alt:"weatherIco",src:g(r)})})]}),Object(W.jsx)(q.a,{variant:"contained",color:"primary",onClick:function(){j(L(t,"UPDATE"))},startIcon:Object(W.jsx)(V.a,{}),children:"Reload Data"}),Object(W.jsx)(q.a,{variant:"contained",color:"secondary",onClick:function(){j({type:N,citiesId:i})},className:d.button,startIcon:Object(W.jsx)(K.a,{}),children:"Delete"})]})]})})})),Z=(n(135),n(95)),$=n(179),ee=Object(s.a)({button:{color:"white",background:"blue"},form:{background:"rgb(54,102,191,0.8)",margin:"15px",padding:"15px"}}),te=r.a.memo((function(){var e=ee(),t=Object(u.b)(),n=Object(u.c)((function(e){return e.main.isLoading})),c=Object(Z.a)({initialValues:{name:""},onSubmit:function(e){t(L(e.name,"ADD")),c.resetForm()}});return Object(W.jsx)("div",{children:Object(W.jsxs)("form",{onSubmit:c.handleSubmit,className:e.form,children:[Object(W.jsx)($.a,Object(p.a)(Object(p.a)({placeholder:"Type here the city name"},c.getFieldProps("name")),{},{onChange:c.handleChange,value:c.values.name})),Object(W.jsx)(q.a,{className:e.button,type:"submit",disabled:n||!c.values.name,variant:"contained",color:"primary",children:" Add City"})]})})})),ne=n.p+"static/media/day.c33ef664.svg",ce=Object(s.a)({root:{minWidth:275}}),re=r.a.memo((function(e){var t=ce(),n=e.cities.map((function(e){return Object(W.jsx)(o.a,{item:!0,children:Object(W.jsx)(o.a,{item:!0,children:Object(W.jsx)(X,{name:e.name,main:e.main,cityId:e.id,wind:e.wind,weather:e.weather,icon:e.weather[0].icon,sys:e.sys})})})})),c=Object(u.c)((function(e){return e.main.isLoading}));return Object(W.jsxs)("div",{className:"mainWrap",children:[Object(W.jsxs)("h1",{children:["Welcome to the weather widget! ",Object(W.jsx)("img",{src:ne,alt:"mainIco"})]}),Object(W.jsx)("h3",{children:"Click below to set your city"}),Object(W.jsx)(te,{}),c&&Object(W.jsx)("div",{children:Object(W.jsx)(M,{})}),Object(W.jsx)(o.a,{container:!0,className:t.root,spacing:2,children:n})]})})),ie=n(96),ae=n(178),se=n(174),oe=n(175),ue=n(176),de=n(177),le=n(93),je=n.n(le),be=n(173),pe=Object(s.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1,textAlign:"center",cursor:"pointer"},root:{textAlign:"center",background:" none"}}})),he=r.a.forwardRef((function(e,t){return Object(W.jsx)(be.a,Object(p.a)({direction:"left",ref:t},e))}));function me(){var e=pe(),t=r.a.useState(!0),n=Object(ie.a)(t,2),c=n[0],i=n[1],a=Object(B.f)(),s=Object(u.c)((function(e){return e.cities.cities})),o=s.find((function(e){return e.name===s[0].name})),d=o.sys.country.split("").map((function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})).join(""),l=function(){i(!1),a.push("/")};return Object(W.jsx)("div",{children:Object(W.jsxs)(ae.a,{fullScreen:!0,open:c,onClose:l,TransitionComponent:he,className:e.root,children:[Object(W.jsx)(se.a,{className:e.appBar,children:Object(W.jsxs)(oe.a,{children:[Object(W.jsx)(ue.a,{edge:"start",color:"inherit",onClick:l,"aria-label":"close",children:Object(W.jsx)(je.a,{})}),Object(W.jsxs)(de.a,{variant:"h6",className:e.title,onClick:l,children:[o.name," ",Object(W.jsx)("img",{alt:"countryIco",src:v(d),className:e.flag})]})]})}),Object(W.jsx)(G,{})]})})}var Oe=function(){var e=Object(u.c)((function(e){return e.cities.cities})),t=Object(u.b)();return Object(c.useEffect)((function(){var e=localStorage.getItem("cityCards");if(e&&"[]"!==e){var n=JSON.parse(e).reverse().join();t(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(k(!0)),t.next=4,x(e);case 4:t.sent.list.forEach((function(e){return n(T(e))})),n(k(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n(A("Error")),n(k(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(n))}}),[t]),Object(c.useEffect)((function(){localStorage.setItem("cityCards",JSON.stringify(e.map((function(e){return e.id}))))}),[e]),Object(W.jsx)("div",{className:"App",children:Object(W.jsxs)(B.c,{children:[Object(W.jsxs)(B.a,{path:"/city/:name",children:[" ",Object(W.jsx)(me,{})," "]}),Object(W.jsxs)(B.a,{exact:!0,path:"/",children:[" ",Object(W.jsx)(re,{cities:e})," "]})]})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,180)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))},fe=n(34),ge=n(94),ve=(0,n(34).combineReducers)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:var n=e.cities.findIndex((function(e){return e.id===t.card.id}));return e.cities[n]=t.card,Object(p.a)(Object(p.a)({},e),{},{cities:Object(b.a)(e.cities)});case S:return Object(p.a)(Object(p.a)({},e),{},{cities:[t.card].concat(Object(b.a)(e.cities))});case N:return Object(p.a)(Object(p.a)({},e),{},{cities:e.cities.filter((function(e){return e.id!==t.citiesId}))});case E:return Object(p.a)(Object(p.a)({},e),{},{detailsPage:t.detailsPage});default:return e}},main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(p.a)(Object(p.a)({},e),{},{isLoading:t.isLoading});case w:return Object(p.a)(Object(p.a)({},e),{},{error:t.error});default:return e}}}),ye=Object(fe.createStore)(ve,Object(fe.applyMiddleware)(ge.a));window.store=ye;var we=ye,Ce=n(65);a.a.render(Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)(u.a,{store:we,children:Object(W.jsx)(Ce.a,{children:Object(W.jsx)(Oe,{})})})}),document.getElementById("root")),xe()}},[[136,1,2]]]);
//# sourceMappingURL=main.fa240ec7.chunk.js.map